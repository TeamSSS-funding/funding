<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="io.github.mygoodsupporter.dao.DeliveryDAO">
    <resultMap id="AddressResultMap" type="Address">
        <result property="number" column="a_number"/>
        <result property="id" column="a_m_id"/>
        <result property="name" column="a_name"/>
        <result property="phone" column="a_phone"/>
        <result property="postcode" column="a_postcode"/>
        <result property="road" column="a_road"/>
        <result property="jibun" column="a_jibun"/>
        <result property="detail" column="a_detail"/>
        <result property="chamgo" column="a_chamgo"/>
    </resultMap>

    <!-- 배송지 추가 -->
    <insert id="insert" parameterType="Address">
        insert into address(a_number,a_m_id,a_name,a_phone,a_postcode,a_road,a_jibun,a_detail,a_chamgo)
        values (nextval(address_seq),#{id},#{name},#{phone},#{postcode},#{road},#{jibun},#{detail},#{chamgo})
    </insert>

    <!-- 배송지 목록 조회 -->
    <select id="list" resultMap="AddressResultMap">
        select * from address where a_m_id=#{id}
    </select>
</mapper>